{{define "content"}}
{{if ne .Validation.Success ""}}
<div class="alert alert-success alert-dismissible fade show" role="alert">
  <strong>Success.</strong> {{.Validation.Success}}
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

{{end}}
{{if ne .Validation.Error ""}}
<div class="alert alert-danger alert-dismissible fade show" role="alert">
  <strong>Error.</strong> {{.Validation.Error}}
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
{{end}}
<div class="container">
  <h2 class="tls-title">Edit {{.CommonName}}</h2>
  <div class="tls-form">
    <form enctype="multipart/form-data" class="form-horizontal needs-validation" novalidate
      action="/ui/cert/{{.ID}}/edit" method="POST" novalidate>
      <input id="id" id="name" value="{{.ID}}" hidden />
      {{.CSRFField}}

      <div class="form-row">
        <div class="form-group col-lg-6 col-12">
          <label for="commonName">Common name</label>
          <input type="text" class="form-control" id="commonName" placeholder="" value="{{.CommonName}}" required>
          <div class="invalid-feedback" style="display: block;">
            Common name is required.
          </div>

        </div>
        <div class="form-group col-lg-6 col-12">
          <label for="renew-at">Renew At (Days)</label>
          <div class="input-group">
            <input type="text" class="form-control" id="renew-at" placeholder="" name="renewAt" value="{{.RenewAt}}"
              type="number">
          </div>
          {{if ne .Validation.RenewAt ""}}
          <div class="invalid-feedback" style="display: block;">
            <!--TODO change validation to be better for client side-->
            {{.Validation.RenewAt}}
          </div>
        </div>
        {{end}}
      </div>

      <div class="form-row">
        <div class="form-group col-12">
          <label for="domains">Domains</label>
          <input type="text" class="form-control" id="domains" name="domains" placeholder="" value="{{.Domains}}">
        </div>
        {{if ne .Validation.Domains ""}}
        <div class="invalid-feedback">
          {{.Validation.Domains}}
        </div>
        {{end}}
      </div>

      <button class="btn btn-primary" type="submit" id="submit-form">Save</button>
      <button style="display:none;" id="form-working-message" class="btn btn-primary" disabled><i
          class="fas fa-spinner glyphicon-spin"></i> Loading...</button>
    </form>

  </div>
</div>
{{end}}